(this.webpackJsonpwww=this.webpackJsonpwww||[]).push([[0],{155:function(e,t){},221:function(e,t,r){},223:function(e,t,r){},225:function(e,t){},246:function(e,t){},248:function(e,t){},259:function(e,t){},261:function(e,t){},307:function(e,t){},309:function(e,t){},310:function(e,t){},315:function(e,t){},317:function(e,t){},336:function(e,t){},348:function(e,t){},351:function(e,t){},357:function(e,t){},395:function(e,t){},442:function(e,t,r){"use strict";r.r(t);var n=r(1),s=r(0),a=r.n(s),c=r(26),o=r.n(c),i=(r(221),r(4)),d=r.n(i),u=r(215),l=r(15),_=r(10),p=(r(223),r(212)),b=r(61),f=r(213),j=r(447),h=function(e){var t=e.ORDERS_FACTORY_ADDRESS,r=e.client,a=e.viewKey,c=e.setViewKey,o=Object(s.useState)(!1),i=Object(_.a)(o,2),u=i[0],p=i[1];return Object(s.useEffect)((function(){if(r.ready&&!a.ready){var e=localStorage.getItem("vk");e&&JSON.parse(e)[t]&&JSON.parse(e)[t][r.accountData.address]?c({ready:!0,value:JSON.parse(e)[t][r.accountData.address]}):c({ready:!0,value:null})}}),[r,c,a.ready]),a.ready&&!a.value?Object(n.jsx)(f.a,{variant:"primary",onClick:Object(l.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.prev=1,e.next=4,O(r.execute,t);case 4:n=e.sent,localStorage.setItem("vk",JSON.stringify(Object(b.a)({},t,Object(b.a)({},r.accountData.address,n)))),c({ready:!0,value:n}),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:p(!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),children:u?Object(n.jsx)(j.a,{animation:"border"}):"Create View Key"}):null},m=r(20).fromUtf8,O=function(){var e=Object(l.a)(d.a.mark((function e(t,r){var n,s,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={create_viewing_key:{entropy:"1321313123"}},e.next=3,t.execute(r,n);case 3:if(s=e.sent,!(a=JSON.parse(m(s.data))).create_viewing_key){e.next=9;break}return e.abrupt("return",a.create_viewing_key.key);case 9:if(!a.viewing_key){e.next=11;break}return e.abrupt("return",a.viewing_key.key);case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),x=r(32),y=r(448),v=function(e){e.ORDERS_FACTORY_ADDRESS;var t=e.remountMyLimitOrders,r=e.tokensData,a=e.client,c=e.viewKey,o=e.pair,i=Object(s.useState)(null),u=Object(_.a)(i,2),p=u[0],b=u[1],j=Object(s.useState)(null),h=Object(_.a)(j,2),m=(h[0],h[1],Object(s.useState)(null)),O=Object(_.a)(m,2),v=O[0],k=O[1],w=Object(s.useState)(null),S=Object(_.a)(w,2),g=S[0],D=S[1];Object(s.useEffect)((function(){function e(){return(e=Object(l.a)(d.a.mark((function e(){var t,r,n,s,i,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.execute.queryContractSmart(o.contract_addr,{get_active_limit_order:{user_address:a.accountData.address,user_viewkey:c}}),r=a.execute.queryContractSmart(o.contract_addr,{order_book_pair_info:{}}),e.next=4,Promise.all([t,r]);case 4:return n=e.sent,s=Object(_.a)(n,2),i=s[0],u=s[1],b(i.active_limit_order.active_limit_order),k(u.order_book_pair),e.t0=D,e.next=13,M(u.order_book_pair);case 13:e.t1=e.sent,(0,e.t0)(e.t1),setInterval(Object(l.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.execute.queryContractSmart(o.contract_addr,{get_active_limit_order:{user_address:a.accountData.address,user_viewkey:c}});case 2:return t=e.sent,b(t.active_limit_order.active_limit_order),e.t0=D,e.next=7,M(u.order_book_pair);case 7:e.t1=e.sent,(0,e.t0)(e.t1);case 9:case"end":return e.stop()}}),e)}))),12e3);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var M=function(){var e=Object(l.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.execute.queryContractSmart(t.amm_pair_address,{simulation:{offer_asset:{info:{token:Object(x.a)(Object(x.a)({},t.assets_info[0].token),{},{viewing_key:""})},amount:""+Math.pow(10,r.find((function(e){return e.dst_address===t.assets_info[0].token.contract_addr})).decimals)}}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=r.find((function(t){return t.dst_address===v.assets_info[e].token.contract_addr}));return n?Math.round(t.withdrew_balance[e]/Math.pow(10,v.assets_info[e].decimal_places)*1e5)/1e5+" "+s.display_props.symbol:Math.round(t.balances[e]/Math.pow(10,v.assets_info[e].decimal_places)*1e5)/1e5+" "+s.display_props.symbol},R=function(e,t){var n=r.find((function(e){return e.dst_address===v.assets_info[0].token.contract_addr})),s=r.find((function(e){return e.dst_address===v.assets_info[1].token.contract_addr}));return"order"===e?Math.round(t.price/Math.pow(10,v.assets_info[1].decimal_places)*1e5)/1e5+" "+s.display_props.symbol+" per "+n.display_props.symbol:"amm"===e?Math.round(g.return_amount/Math.pow(10,v.assets_info[1].decimal_places)*1e5)/1e5+" "+s.display_props.symbol+" per "+n.display_props.symbol:"triggered"===e?t.is_bid?Math.round(t.deposit_amount/Math.pow(10,v.assets_info[1].decimal_places)*1e5)/1e5/(Math.round(t.balances[0]/Math.pow(10,v.assets_info[0].decimal_places)*1e5)/1e5)+" "+s.display_props.symbol+" per "+n.display_props.symbol:Math.round(t.balances[1]/Math.pow(10,v.assets_info[1].decimal_places)*1e5)/1e5/(Math.round(t.deposit_amount/Math.pow(10,v.assets_info[0].decimal_places)*1e5)/1e5)+" "+s.display_props.symbol+" per "+n.display_props.symbol:void 0},A=function(e){return r.find((function(t){return t.dst_address===v.assets_info[e].token.contract_addr}))},E=p?{backgroundColor:"Filled"===p.status?"#Cfffbc":"#Fff4ad"}:void 0;return Object(n.jsxs)("div",{children:["ACTIVE ORDERS",Object(n.jsxs)(y.a,{striped:!0,bordered:!0,hover:!0,children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Creation Date"}),Object(n.jsx)("th",{children:"Pair"}),Object(n.jsx)("th",{children:"Type"}),Object(n.jsx)("th",{children:"Status"}),Object(n.jsx)("th",{children:"Limit Order"}),Object(n.jsx)("th",{children:"Triggered Price"}),Object(n.jsx)("th",{children:"Current Price"}),Object(n.jsx)("th",{children:"Cancel"})]})}),Object(n.jsx)("tbody",{children:p&&Object(n.jsxs)("tr",{style:E,children:[Object(n.jsx)("td",{children:new Date(1e3*p.timestamp).toLocaleString()}),v&&r&&Object(n.jsx)("td",{children:function(){var e=r.find((function(e){return e.dst_address===v.assets_info[0].token.contract_addr})),t=r.find((function(e){return e.dst_address===v.assets_info[1].token.contract_addr}));return e.display_props.symbol+" / "+t.display_props.symbol}()}),Object(n.jsx)("td",{children:p.is_bid?"Buy":"Sell"}),Object(n.jsx)("td",{children:p.status}),v&&Object(n.jsxs)("div",{children:[R("order",p)," ",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),function(e){var t=e.is_bid?1:0;return"Deposited: "+Math.round(e.deposit_amount/Math.pow(10,v.assets_info[t].decimal_places)*1e5)/1e5+" "+A(t).display_props.symbol}(p),Object(n.jsx)("br",{}),function(e){var t=e.is_bid?0:1;return"Expected (~): "+Math.round(e.expected_amount/Math.pow(10,v.assets_info[t].decimal_places)*1e5)/1e5+" "+A(t).display_props.symbol}(p)]}),Object(n.jsx)("td",{children:Object(n.jsx)("div",{children:g&&"Filled"===p.status?R("triggered",p):" - "})}),Object(n.jsx)("td",{children:g?R("amm",p):" - "}),p&&Object(n.jsx)("td",{children:Object(n.jsxs)(f.a,{onClick:Object(l.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.execute.execute(o.contract_addr,{cancel_limit_order:{}});case 3:t(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert("error on widthdraw: "+e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),children:["Widthdraw ",Object(n.jsx)("br",{}),p&&v&&C(0,p)+"  and  "+C(1,p)]})})]},o.contract_addr)})]})]})},k=function(e){e.ORDERS_FACTORY_ADDRESS,e.remountMyLimitOrders;var t=e.tokensData,r=e.client,a=e.viewKey,c=e.pair,o=Object(s.useState)(null),i=Object(_.a)(o,2),u=i[0],p=i[1],b=Object(s.useState)(null),f=Object(_.a)(b,2),j=f[0],h=f[1],m=Object(s.useState)(null),O=Object(_.a)(m,2),v=O[0],k=O[1];Object(s.useEffect)((function(){function e(){return(e=Object(l.a)(d.a.mark((function e(){var t,n,s,o,i,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.execute.queryContractSmart(c.contract_addr,{get_history_limit_orders:{user_address:r.accountData.address,user_viewkey:a,page_size:10,page:0}}),n=r.execute.queryContractSmart(c.contract_addr,{order_book_pair_info:{}}),e.next=4,Promise.all([t,n]);case 4:return s=e.sent,o=Object(_.a)(s,2),i=o[0],u=o[1],p(i.history_limit_orders.history_limit_orders),h(u.order_book_pair),e.t0=k,e.next=13,w(u.order_book_pair);case 13:e.t1=e.sent,(0,e.t0)(e.t1),setInterval(Object(l.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.execute.queryContractSmart(c.contract_addr,{get_history_limit_orders:{user_address:r.accountData.address,user_viewkey:a,page_size:10,page:0}});case 2:return t=e.sent,p(t.history_limit_orders.history_limit_orders),e.t0=k,e.next=7,w(u.order_book_pair);case 7:e.t1=e.sent,(0,e.t0)(e.t1);case 9:case"end":return e.stop()}}),e)}))),12e3);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var w=function(){var e=Object(l.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.execute.queryContractSmart(n.amm_pair_address,{simulation:{offer_asset:{info:{token:Object(x.a)(Object(x.a)({},n.assets_info[0].token),{},{viewing_key:""})},amount:""+Math.pow(10,t.find((function(e){return e.dst_address===n.assets_info[0].token.contract_addr})).decimals)}}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=t.find((function(t){return t.dst_address===j.assets_info[e].token.contract_addr}));return n?Math.round(r.withdrew_balance[e]/Math.pow(10,j.assets_info[e].decimal_places)*1e5)/1e5+" "+s.display_props.symbol:Math.round(r.balances[e]/Math.pow(10,j.assets_info[e].decimal_places)*1e5)/1e5+" "+s.display_props.symbol},g=function(e,r){var n=t.find((function(e){return e.dst_address===j.assets_info[0].token.contract_addr})),s=t.find((function(e){return e.dst_address===j.assets_info[1].token.contract_addr}));return"order"===e?Math.round(r.price/Math.pow(10,j.assets_info[1].decimal_places)*1e5)/1e5+" "+s.display_props.symbol+" per "+n.display_props.symbol:"amm"===e?Math.round(v.return_amount/Math.pow(10,j.assets_info[1].decimal_places)*1e5)/1e5+" "+s.display_props.symbol+" per "+n.display_props.symbol:"triggered"===e?r.withdrew_balance?r.is_bid?Math.round(r.deposit_amount/Math.pow(10,j.assets_info[1].decimal_places)*1e5)/1e5/(Math.round(r.withdrew_balance[0]/Math.pow(10,j.assets_info[0].decimal_places)*1e5)/1e5)+" "+s.display_props.symbol+" per "+n.display_props.symbol:Math.round(r.withdrew_balance[1]/Math.pow(10,j.assets_info[1].decimal_places)*1e5)/1e5/(Math.round(r.deposit_amount/Math.pow(10,j.assets_info[0].decimal_places)*1e5)/1e5)+" "+s.display_props.symbol+" per "+n.display_props.symbol:"-":void 0},D=function(){var e=t.find((function(e){return e.dst_address===j.assets_info[0].token.contract_addr})),r=t.find((function(e){return e.dst_address===j.assets_info[1].token.contract_addr}));return e.display_props.symbol+" / "+r.display_props.symbol},M=function(e){return t.find((function(t){return t.dst_address===j.assets_info[e].token.contract_addr}))},C=function(e){var t=e.is_bid?1:0;return"Deposited: "+Math.round(e.deposit_amount/Math.pow(10,j.assets_info[t].decimal_places)*1e5)/1e5+" "+M(t).display_props.symbol},R=function(e){var t=e.is_bid?0:1;return"Expected (~): "+Math.round(e.expected_amount/Math.pow(10,j.assets_info[t].decimal_places)*1e5)/1e5+" "+M(t).display_props.symbol};return Object(n.jsxs)("div",{children:["HISTORY ORDERS",Object(n.jsxs)(y.a,{striped:!0,bordered:!0,hover:!0,children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Creation Date"}),Object(n.jsx)("th",{children:"Pair"}),Object(n.jsx)("th",{children:"Type"}),Object(n.jsx)("th",{children:"Status"}),Object(n.jsx)("th",{children:"Limit Order"}),Object(n.jsx)("th",{children:"Triggered Price"}),Object(n.jsx)("th",{children:"Withdraw"})]})}),Object(n.jsx)("tbody",{children:u&&u.length>0&&u.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:new Date(1e3*e.timestamp).toLocaleString()}),j&&t&&Object(n.jsx)("td",{children:D()}),Object(n.jsx)("td",{children:e.is_bid?"Buy":"Sell"}),Object(n.jsx)("td",{children:e.status}),j&&Object(n.jsxs)("div",{children:[g("order",e)," ",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),C(e),Object(n.jsx)("br",{}),R(e)]}),Object(n.jsx)("td",{children:Object(n.jsx)("div",{children:v&&"Withdrew"===e.status?g("triggered",e):" - "})}),Object(n.jsxs)("td",{children:["Withdrew:  ",e.withdrew_balance&&j&&S(0,e,!0)+"  and  "+S(1,e,!0)]})]},e.timestamp)}))})]})]})},w=r(449),S=r(214),g=function(e){var t=e.ORDERS_FACTORY_ADDRESS,r=e.remountMyLimitOrders,a=e.tokensData,c=e.client,o=e.viewKey,i=Object(s.useState)(null),u=Object(_.a)(i,2),p=u[0],b=u[1],f=Object(s.useState)(null),j=Object(_.a)(f,2),h=j[0],m=j[1];Object(s.useEffect)((function(){function e(){return(e=Object(l.a)(d.a.mark((function e(){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.execute.queryContractSmart(t,{secret_order_books:{}});case 2:r=e.sent,b(r.secret_order_books);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var O=function(e){var t=e.asset_infos[0].token?e.asset_infos[0].token.contract_addr:e.asset_infos[0].native_token.denom,r=a.find((function(e){return e.dst_address===t})),n=e.asset_infos[1].token?e.asset_infos[1].token.contract_addr:e.asset_infos[1].native_token.denom,s=a.find((function(e){return e.dst_address===n}));return(r?r.display_props.symbol:t)+" / "+(s?s.display_props.symbol:n)};return Object(n.jsxs)("div",{children:[Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),a&&p&&Object(n.jsx)(w.a,{id:"dropdown-basic-button",title:null!==h?O(p.secret_order_books[h]):"Select Pair...",children:p.secret_order_books.map((function(e,t){return Object(n.jsx)(S.a.Item,{onClick:function(){m(t)},children:O(e)},e.contract_addr)}))}),Object(n.jsx)("br",{}),null!==h&&Object(n.jsx)(v,{remountMyLimitOrders:r,ORDERS_FACTORY_ADDRESS:t,tokensData:a,client:c,viewKey:o,pair:p.secret_order_books[h]},"active_"+h),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),null!==h&&Object(n.jsx)(k,{remountMyLimitOrders:r,ORDERS_FACTORY_ADDRESS:t,tokensData:a,client:c,viewKey:o,pair:p.secret_order_books[h]},"history_"+h)]})},D=(r(441),r(450)),M=function(e){e.AMM_FACTORY_ADDRESS;var t=e.ORDERS_FACTORY_ADDRESS,r=e.tokensData,a=e.client,c=(e.viewKey,e.remountMyLimitOrders),o=Object(s.useState)(!1),i=Object(_.a)(o,2),u=i[0],p=i[1],b=Object(s.useState)(null),h=Object(_.a)(b,2),m=h[0],O=h[1],y=Object(s.useState)(null),v=Object(_.a)(y,2),k=v[0],g=v[1],M=Object(s.useState)(!1),C=Object(_.a)(M,2),R=C[0],A=C[1],E=Object(s.useState)(!1),T=Object(_.a)(E,2),P=T[0],q=T[1],F=Object(s.useState)(null),L=Object(_.a)(F,2),Y=L[0],K=L[1],I=Object(s.useState)(!0),z=Object(_.a)(I,2),N=z[0],B=z[1],J=Object(s.useState)(null),V=Object(_.a)(J,2),W=V[0],H=V[1],U=Object(s.useState)(null),G=Object(_.a)(U,2),Q=G[0],X=G[1];Object(s.useEffect)((function(){function e(){return(e=Object(l.a)(d.a.mark((function e(){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.execute.queryContractSmart(t,{secret_order_books:{}});case 2:r=e.sent,O(r.secret_order_books);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(s.useEffect)((function(){function e(){return(e=Object(l.a)(d.a.mark((function e(){var t,r,n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===k){e.next=15;break}return e.prev=1,t=Z(),e.next=5,Promise.all([t]);case 5:r=e.sent,n=Object(_.a)(r,1),s=n[0],K(s),q(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),alert(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[k]);var Z=function(){var e=Object(l.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.execute.queryContractSmart(m.secret_order_books[k].amm_pair_contract_addr,{simulation:{offer_asset:{info:{token:Object(x.a)(Object(x.a)({},m.secret_order_books[k].asset_infos[0].token),{},{viewing_key:""})},amount:""+Math.pow(10,r.find((function(e){return e.dst_address===m.secret_order_books[k].asset_infos[0].token.contract_addr})).decimals)}}}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(e){var t=r.find((function(t){return t.dst_address===e}));return t?t.display_props.symbol:e},ee=function(e){var t=e.asset_infos[0].token?e.asset_infos[0].token.contract_addr:e.asset_infos[0].native_token.denom,n=r.find((function(e){return e.dst_address===t})),s=e.asset_infos[1].token?e.asset_infos[1].token.contract_addr:e.asset_infos[1].native_token.denom,a=r.find((function(e){return e.dst_address===s}));return(n?n.display_props.symbol:t)+" / "+(a?a.display_props.symbol:s)};return console.log(r&&m&&m.secret_order_books),Object(n.jsxs)("div",{children:[Object(n.jsx)(f.a,{onClick:function(){return p(!0)},children:"Create New Limit Order"}),Object(n.jsxs)(D.a,{show:u,onHide:function(){p(!1),g(null)},children:[Object(n.jsx)(D.a.Header,{closeButton:!0,children:Object(n.jsx)(D.a.Title,{children:"Create Limit Order"})}),Object(n.jsxs)(D.a.Body,{children:[r&&m&&Object(n.jsx)(w.a,{id:"dropdown-basic-button",title:null!==k?ee(m.secret_order_books[k]):"Select Pair...",children:m.secret_order_books.map((function(e,t){return Object(n.jsx)(S.a.Item,{onClick:function(){q(!0),g(t)},children:ee(e)},e.contract_addr)}))}),null!==k&&Object(n.jsxs)("div",{children:[Object(n.jsx)("br",{}),P&&Object(n.jsx)(j.a,{animation:"border"}),!P&&Y&&function(){if(Y){var e=r.find((function(e){return e.dst_address===m.secret_order_books[k].asset_infos[1].token.contract_addr})),t=r.find((function(e){return e.dst_address===m.secret_order_books[k].asset_infos[0].token.contract_addr}));return Y.return_amount/Math.pow(10,e.decimals)+" "+e.display_props.symbol+" per "+t.display_props.symbol}}(),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(f.a,{style:{marginRight:"20px"},variant:N?"success":"light",onClick:function(){B(!0)},children:"Buy"}),Object(n.jsx)(f.a,{variant:N?"light":"danger",onClick:function(){B(!1)},children:"Sell"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{children:"Price of Limit Order ("+$(m.secret_order_books[k].asset_infos[1].token.contract_addr)+")"}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{onChange:function(e){return X(e.target.value)}}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{children:N?"Deposit Amount ("+$(m.secret_order_books[k].asset_infos[1].token.contract_addr)+")":"Deposit Amount ("+$(m.secret_order_books[k].asset_infos[0].token.contract_addr)+")"}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{onChange:function(e){return H(e.target.value)}}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{children:N?"Expected Amount ("+$(m.secret_order_books[k].asset_infos[0].token.contract_addr)+")":"Expected Amount ("+$(m.secret_order_books[k].asset_infos[1].token.contract_addr)+")"}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{disabled:!0,value:W&&Q?N?""+W/Q:""+W*Q:""}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(f.a,{style:{width:"100%"},variant:N?"success":"danger",onClick:Object(l.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null!==W&&""!==W&&"0"!==W&&null!==Q&&""!==Q&&"0"!==Q){e.next=3;break}throw Error("Bad Inputs");case 3:return t=N?""+W/Q:""+W*Q,A(!0),e.next=7,a.execute.execute(m.secret_order_books[k].asset_infos[N?1:0].token.contract_addr,{send:{recipient:m.secret_order_books[k].contract_addr,amount:""+Math.floor(W*Math.pow(10,r.find((function(e){return e.dst_address===m.secret_order_books[k].asset_infos[N?1:0].token.contract_addr})).decimals)),msg:btoa(JSON.stringify({create_limit_order:{is_bid:N,price:""+Math.floor(Q*Math.pow(10,r.find((function(e){return e.dst_address===m.secret_order_books[k].asset_infos[1].token.contract_addr})).decimals)),expected_amount:""+Math.floor(t*Math.pow(10,r.find((function(e){return e.dst_address===m.secret_order_books[k].asset_infos[N?0:1].token.contract_addr})).decimals))}}))}});case 7:A(!1),p(!1),g(null),c(),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),alert(e.t0),A(!1);case 17:case"end":return e.stop()}}),e,null,[[0,13]])}))),children:R?Object(n.jsx)(j.a,{animation:"border"}):N?"Buy":"Sell"})]})]}),Object(n.jsx)(D.a.Footer,{children:Object(n.jsx)(f.a,{variant:"secondary",onClick:function(){g(null),p(!1)},children:"Close"})})]})]})},C=r(82),R=r.n(C),A="secret1ypfxpp4ev2sd9vj9ygmsmfxul25xt9cfadrxxy",E="secret1rtarpu36gul7kn0xgedpv8kdqucjhxhgxywa6x",T="secret1s7c6xp9wltthk5r6mmavql4xld5me3g37guhsx";var P=function(){var e=Object(s.useState)({ready:!1,execute:null,accountData:{address:""}}),t=Object(_.a)(e,2),r=t[0],a=t[1],c=Object(s.useState)({ready:!1,value:null}),o=Object(_.a)(c,2),i=o[0],p=o[1],b=Object(s.useState)(null),f=Object(_.a)(b,2),j=f[0],m=f[1],O=Object(s.useState)(0),x=Object(_.a)(O,2),y=x[0],v=x[1];Object(s.useEffect)((function(){function e(){return(e=Object(l.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(a),e.prev=1,e.next=4,R.a.get("https://scrt-bridge-api.azurewebsites.net/tokens/?page=0&size=1000");case 4:t=e.sent,m([].concat(Object(u.a)(t.data.tokens),[{dst_address:T,decimals:6,display_props:{symbol:"sSCRT"}},{dst_address:"secret1ha79qdkjsq7nyy8hagsggfq6zzlwshfmgfv3k0",decimals:18,display_props:{symbol:"sTST"}}])),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),m([{dst_address:"secret1ttg5cn3mv5n9qv8r53stt6cjx8qft8ut9d66ed",decimals:18,display_props:{symbol:"sETH"}},{dst_address:"secret10zr3azpmr42vatq3pey2aaxurug0c668km6rzl",decimals:18,display_props:{symbol:"sOCEAN"}},{dst_address:T,decimals:6,display_props:{symbol:"sSCRT"}},{dst_address:"secret1ha79qdkjsq7nyy8hagsggfq6zzlwshfmgfv3k0",decimals:18,display_props:{symbol:"sTST"}}]);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var k=function(){return v(y+1)};return r.ready?Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(h,{ORDERS_FACTORY_ADDRESS:E,client:r,viewKey:i,setViewKey:p}),i.value&&Object(n.jsxs)("div",{children:[Object(n.jsx)(M,{ORDERS_FACTORY_ADDRESS:E,AMM_FACTORY_ADDRESS:A,tokensData:j,client:r,viewKey:i.value,remountMyLimitOrders:k}),Object(n.jsx)(g,{ORDERS_FACTORY_ADDRESS:E,AMM_FACTORY_ADDRESS:A,tokensData:j,client:r,viewKey:i.value,remountMyLimitOrders:k},y)]})]}):Object(n.jsx)("div",{children:"Loading..."})},q=function(){var e=Object(l.a)(d.a.mark((function e(t){var r,n,s,a,c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r="holodeck-2",n=function(e){return new Promise((function(t){return setTimeout(t,e)}))};case 2:if(window.keplr||window.getOfflineSigner||window.getEnigmaUtils){e.next=7;break}return e.next=5,n(10);case 5:e.next=2;break;case 7:return e.next=9,window.keplr.experimentalSuggestChain({chainId:r,chainName:"Local Secret Chain",rpc:"http://bootstrap.secrettestnet.io:26657",rest:"https://bootstrap.secrettestnet.io",bip44:{coinType:529},coinType:529,stakeCurrency:{coinDenom:"SCRT",coinMinimalDenom:"uscrt",coinDecimals:6},bech32Config:{bech32PrefixAccAddr:"secret",bech32PrefixAccPub:"secretpub",bech32PrefixValAddr:"secretvaloper",bech32PrefixValPub:"secretvaloperpub",bech32PrefixConsAddr:"secretvalcons",bech32PrefixConsPub:"secretvalconspub"},currencies:[{coinDenom:"SCRT",coinMinimalDenom:"uscrt",coinDecimals:6}],feeCurrencies:[{coinDenom:"SCRT",coinMinimalDenom:"uscrt",coinDecimals:6}],gasPriceStep:{low:.3,average:.45,high:.6},features:["secretwasm"]});case 9:return e.next=11,window.keplr.enable(r);case 11:return s=window.getOfflineSigner(r),e.next=14,s.getAccounts();case 14:return a=e.sent,e.next=17,new p.SigningCosmWasmClient("https://bootstrap.secrettestnet.io",a[0].address,window.getOfflineSigner(r),window.getEnigmaUtils(r),{init:{amount:[{amount:"500000",denom:"uscrt"}],gas:"500000"},exec:{amount:[{amount:"500000",denom:"uscrt"}],gas:"500000"}});case 17:return c=e.sent,e.next=20,c.getAccount(a[0].address);case 20:o=e.sent,t({ready:!0,execute:c,accountData:o});case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,451)).then((function(t){var r=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,c=t.getTTFB;r(e),n(e),s(e),a(e),c(e)}))};o.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(P,{})}),document.getElementById("root")),F()}},[[442,1,2]]]);
//# sourceMappingURL=main.9e45c3fd.chunk.js.map