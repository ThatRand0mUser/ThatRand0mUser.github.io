{"version":3,"sources":["Containers/ViewKeyButton.js","Containers/MyActiveLimitOrders.tsx","Containers/MyHistoryLimitOrders.tsx","Containers/MyOrders.tsx","Containers/CreateNewLimitOrder.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["ORDERS_FACTORY_ADDRESS","client","viewKey","setViewKey","useState","loading","setLoading","useEffect","ready","viewKeys","localStorage","getItem","JSON","parse","accountData","address","value","Button","variant","onClick","a","getViewKey","execute","response","setItem","stringify","Spinner","animation","fromUtf8","require","tokenAddress","handleMsg","create_viewing_key","entropy","apiKey","data","key","viewing_key","remountMyLimitOrders","tokensData","pair","activelimitOrderData","setActiveLimitOrderData","orderBookTokensData","setOrderBookTokensData","ammPriceData","setAmmPriceData","limitOrderPromise","queryContractSmart","contract_addr","get_active_limit_order","user_address","user_viewkey","orderBookTokenDataPromise","order_book_pair_info","Promise","all","limitOrder","orderBookTokenData","active_limit_order","order_book_pair","getAmmPrice","setInterval","init","amm_pair_address","simulation","offer_asset","info","token","assets_info","amount","Math","pow","find","dst_address","decimals","displayBalance","index","limitOrderData","is_withdrew","tokenData","round","withdrew_balance","decimal_places","display_props","symbol","balances","displayPrice","type","token1Data","token2Data","price","return_amount","is_bid","deposit_amount","findTokenData","rowStyle","backgroundColor","status","undefined","Table","striped","bordered","hover","style","Date","timestamp","toLocaleString","pairDisplay","getDepositedAmount","expected_amount","getExpectedAmount","cancel_limit_order","alert","historyLimitOrdersData","setHistoryLimitOrdersData","get_history_limit_orders","page_size","page","history_limit_orders","length","map","history_order","secretOrderBooks","setSecretOrderBooks","selectedFactoryPairIndex","setSelectedFactoryPairIndex","secret_order_books","displaySymbolPair","token1Address","asset_infos","native_token","denom","token2Address","DropdownButton","id","title","Dropdown","Item","MyActiveLimitOrders","MyHistoryLimitOrders","AMM_FACTORY_ADDRESS","showCreateLimitOrderModal","setShowCreateLimitOrderModal","selectedAmmFactoryPairIndex","setSelectedAmmFactoryPairIndex","createLimitOrderLoading","setCreateLimitOrderLoading","selectedAmmPriceLoading","setSelectedAmmPairPriceLoading","selectedAmmPairPrice","setSelectedAmmPairPrice","limitOrderIsBidInput","setLimitOrderIsBidInput","limitOrderAmountInput","setLimitOrderAmountInput","limitOrderPriceInput","setLimitOrderPriceInput","responsePromiseAMM","responseAMM","getData","amm_pair_contract_addr","getTokenSymbol","console","log","Modal","show","onHide","Header","closeButton","Title","Body","otherTokenData","getCurrentPrice","marginRight","onChange","e","target","disabled","width","Error","limitOrderExpectedAmount","send","recipient","floor","msg","btoa","create_limit_order","Footer","SSCRT_CONTRACT_ADDRESS","App","setClient","setTokensData","remountMyLimitOrdersCount","setRemountMyLimitOrdersCount","setupKeplr","axios","get","tokens","className","ViewKeyButton","CreateNewLimitOrder","MyOrders","CHAIN_ID","sleep","ms","accept","setTimeout","window","keplr","getOfflineSigner","getEnigmaUtils","experimentalSuggestChain","chainId","chainName","rpc","rest","bip44","coinType","stakeCurrency","coinDenom","coinMinimalDenom","coinDecimals","bech32Config","bech32PrefixAccAddr","bech32PrefixAccPub","bech32PrefixValAddr","bech32PrefixValPub","bech32PrefixConsAddr","bech32PrefixConsPub","currencies","feeCurrencies","gasPriceStep","low","average","high","features","enable","keplrOfflineSigner","getAccounts","accounts","SigningCosmWasmClient","gas","exec","getAccount","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9e45c3fd.chunk.js","sourcesContent":["import React, {useState,useEffect} from 'react';\nimport {Spinner, Button} from \"react-bootstrap\"\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default ({\n    ORDERS_FACTORY_ADDRESS,\n    client,\n    viewKey,\n    setViewKey\n}) => {\n    const [loading, setLoading] = useState(false)\n\n    useEffect(() => {\n        if (client.ready && !viewKey.ready) {\n          const viewKeys = localStorage.getItem(\"vk\");\n          if (viewKeys && JSON.parse(viewKeys)[ORDERS_FACTORY_ADDRESS] && JSON.parse(viewKeys)[ORDERS_FACTORY_ADDRESS][client.accountData.address]) {\n            setViewKey({\n              ready: true,\n              value: JSON.parse(viewKeys)[ORDERS_FACTORY_ADDRESS][client.accountData.address]\n            })\n          } else {\n            setViewKey({\n              ready: true,\n              value: null\n            })\n          }\n        }\n      }, [client, setViewKey, viewKey.ready])\n      \n    if (viewKey.ready && !viewKey.value) {\n        return (\n            <Button variant=\"primary\" onClick={async() => {\n                setLoading(true)\n                try {\n                    const response = await getViewKey(client.execute, ORDERS_FACTORY_ADDRESS)\n                    localStorage.setItem(\"vk\",JSON.stringify({[ORDERS_FACTORY_ADDRESS]: {[client.accountData.address]: response}}))\n                    setViewKey({\n                      ready: true,\n                      value: response\n                    })\n                } catch {}\n                setLoading(false)\n              }}>\n                  {\n                    loading ? <Spinner animation=\"border\" /> : \"Create View Key\"\n                  }\n            </Button>\n        )\n    } else {\n        return null\n    }\n}\n\nconst { fromUtf8 } = require(\"@iov/encoding\");\n\n// eslint-disable-next-line import/no-anonymous-default-export\nconst getViewKey = async (client, tokenAddress) => {\n    let handleMsg = { create_viewing_key: {entropy: \"1321313123\"} };\n    const response = await client.execute(tokenAddress, handleMsg);\n    const apiKey = JSON.parse(fromUtf8(response.data))\n    if (apiKey.create_viewing_key) {\n      return apiKey.create_viewing_key.key\n    } else if (apiKey.viewing_key) {\n      return apiKey.viewing_key.key\n    }\n  }","import React, {useState,useEffect} from 'react';\nimport {Card, Button, Spinner, Modal, DropdownButton, Dropdown, Table} from 'react-bootstrap'\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default ({\n    ORDERS_FACTORY_ADDRESS,\n    remountMyLimitOrders,\n    tokensData,\n    client,\n    viewKey,\n    pair\n}: MyLimitOrdersProps) => {\n    const [activelimitOrderData, setActiveLimitOrderData] = useState<any>(null)\n    const [historyLimitOrdersData, setHistoryLimitOrdersData] = useState<any>(null)\n    const [orderBookTokensData, setOrderBookTokensData] = useState<any>(null)\n    const [ammPriceData, setAmmPriceData] = useState<any>(null)\n    \n    useEffect(() => {\n        async function init() {\n            const limitOrderPromise = client.execute.queryContractSmart(pair.contract_addr, { \n                get_active_limit_order: {\n                    user_address: client.accountData.address,\n                    user_viewkey: viewKey,\n                    //limit: PAGINATION_LIMIT,\n                    //offset: PAGINATION_OFFSET\n                }\n              })\n\n            const orderBookTokenDataPromise = client.execute.queryContractSmart(pair.contract_addr, { \n                order_book_pair_info: {}\n              })\n\n            const [limitOrder, orderBookTokenData] = await Promise.all([limitOrderPromise, orderBookTokenDataPromise]);\n\n            setActiveLimitOrderData(limitOrder.active_limit_order.active_limit_order)\n            setOrderBookTokensData(orderBookTokenData.order_book_pair)\n            setAmmPriceData(await getAmmPrice(orderBookTokenData.order_book_pair))\n\n            setInterval(async () => {\n                const limitOrder = await client.execute.queryContractSmart(pair.contract_addr, { \n                    get_active_limit_order: {\n                        user_address: client.accountData.address,\n                        user_viewkey: viewKey,\n                        //limit: PAGINATION_LIMIT,\n                        //offset: PAGINATION_OFFSET\n                    }\n                  })\n                setActiveLimitOrderData(limitOrder.active_limit_order.active_limit_order);\n                setAmmPriceData(await getAmmPrice(orderBookTokenData.order_book_pair))\n            },12000)\n          }\n        init()\n    }, [])\n\n    const getAmmPrice = async (orderBookTokenData: any) => {\n        return client.execute.queryContractSmart(orderBookTokenData.amm_pair_address, { \n            simulation: {\n                offer_asset: {\n                    info: {\n                        token: {\n                            ...orderBookTokenData.assets_info[0].token,\n                            viewing_key: \"\"\n                        }\n                    },\n                    amount: \"\" + Math.pow(10, tokensData.find((data: any) => data.dst_address === orderBookTokenData.assets_info[0].token.contract_addr).decimals)\n                }\n            }\n          })\n    }\n\n    const displayBalance = (index: number, limitOrderData:any, is_withdrew: boolean | null = null) => {\n        const tokenData = tokensData.find((data: any) => data.dst_address === orderBookTokensData.assets_info[index].token.contract_addr);\n        if (!is_withdrew) {\n            return Math.round(limitOrderData.balances[index]/Math.pow(10,orderBookTokensData.assets_info[index].decimal_places) * 100000) / 100000 + \" \" + tokenData.display_props.symbol\n        } else {\n            return Math.round(limitOrderData.withdrew_balance[index]/Math.pow(10,orderBookTokensData.assets_info[index].decimal_places) * 100000) / 100000 + \" \" + tokenData.display_props.symbol\n        }\n    }\n\n    const displayPrice = (type: string, limitOrderData: any) => {\n        const token1Data = tokensData.find((data: any) => data.dst_address === orderBookTokensData.assets_info[0].token.contract_addr);\n        const token2Data = tokensData.find((data: any) => data.dst_address === orderBookTokensData.assets_info[1].token.contract_addr);\n        if (type === \"order\") {\n            return Math.round(limitOrderData.price/Math.pow(10,orderBookTokensData.assets_info[1].decimal_places) * 100000) / 100000 + \" \" + token2Data.display_props.symbol + \" per \" + token1Data.display_props.symbol \n        } else if (type === \"amm\") {\n            return Math.round(ammPriceData.return_amount/Math.pow(10,orderBookTokensData.assets_info[1].decimal_places) * 100000) / 100000 + \" \" + token2Data.display_props.symbol + \" per \" + token1Data.display_props.symbol \n        } else if (type === \"triggered\") {\n            if (limitOrderData.is_bid) {\n                return (Math.round(limitOrderData.deposit_amount/Math.pow(10,orderBookTokensData.assets_info[1].decimal_places) * 100000) / 100000) / (Math.round(limitOrderData.balances[0]/Math.pow(10,orderBookTokensData.assets_info[0].decimal_places) * 100000) / 100000) + \" \" +  token2Data.display_props.symbol + \" per \" + token1Data.display_props.symbol\n            } else {\n                return (Math.round(limitOrderData.balances[1]/Math.pow(10,orderBookTokensData.assets_info[1].decimal_places) * 100000) / 100000) / (Math.round(limitOrderData.deposit_amount/Math.pow(10,orderBookTokensData.assets_info[0].decimal_places) * 100000) / 100000) + \" \" +  token2Data.display_props.symbol + \" per \" + token1Data.display_props.symbol\n            }\n        }\n    }\n\n    const pairDisplay = () => {\n        const token1Data = tokensData.find((data: any) => data.dst_address === orderBookTokensData.assets_info[0].token.contract_addr);\n        const token2Data = tokensData.find((data: any) => data.dst_address === orderBookTokensData.assets_info[1].token.contract_addr);\n\n        return token1Data.display_props.symbol + \" / \" + token2Data.display_props.symbol \n    }\n\n    const findTokenData = (index: number) => \n        tokensData.find((data: any) => data.dst_address === orderBookTokensData.assets_info[index].token.contract_addr);\n\n    const getDepositedAmount = (limitOrderData: any) => {\n        const index = limitOrderData.is_bid ? 1 : 0;\n        const amount = Math.round(limitOrderData.deposit_amount/Math.pow(10,orderBookTokensData.assets_info[index].decimal_places) * 100000) / 100000;\n\n        return \"Deposited: \" + amount + \" \" + findTokenData(index).display_props.symbol\n    }\n\n    const getExpectedAmount = (limitOrderData: any) => {\n        const index = limitOrderData.is_bid ? 0 : 1;\n        const amount = Math.round(limitOrderData.expected_amount/Math.pow(10,orderBookTokensData.assets_info[index].decimal_places) * 100000) / 100000;\n\n        return \"Expected (~): \" + amount + \" \" + findTokenData(index).display_props.symbol\n    }\n\n    const rowStyle = activelimitOrderData ? {\n        backgroundColor: activelimitOrderData.status === \"Filled\" ? \"#Cfffbc\" : \"#Fff4ad\"\n    } : undefined\n\n    return (\n        <div>\n            ACTIVE ORDERS\n            <Table striped bordered hover>\n                <thead>\n                    <tr>\n                        <th>Creation Date</th>\n                        <th>Pair</th>\n                        <th>Type</th>\n                        <th>Status</th>\n                        <th>Limit Order</th>\n                        <th>Triggered Price</th>\n                        <th>Current Price</th>\n                        <th>Cancel</th>\n                    </tr>\n                </thead>\n                <tbody>\n                {\n                    activelimitOrderData && \n                    <tr key={pair.contract_addr} style={rowStyle}>\n                        <td>{new Date(activelimitOrderData.timestamp*1000).toLocaleString()}</td>\n                        {orderBookTokensData && tokensData && <td>{pairDisplay()}</td>}\n                        <td>{activelimitOrderData.is_bid ? \"Buy\" : \"Sell\"}</td>\n                        <td>{activelimitOrderData.status}</td>\n                        {orderBookTokensData && \n                            <div>\n                                {displayPrice(\"order\",activelimitOrderData)} <br/><br/>\n                                {getDepositedAmount(activelimitOrderData)}<br/>\n                                {getExpectedAmount(activelimitOrderData)}\n                            </div>}\n                        {<td>{\n                            <div>\n                                {\n                                    ammPriceData && \n                                    activelimitOrderData.status === \"Filled\" ? \n                                    displayPrice(\"triggered\", activelimitOrderData)\n                                    : \" - \"}\n                            </div>\n                        }</td>}\n                        {<td>{ammPriceData ? displayPrice(\"amm\", activelimitOrderData) : \" - \"}</td>}\n                        {activelimitOrderData && <td>{<Button onClick={ async () => {\n                            try{\n                                await client.execute.execute(pair.contract_addr, { \n                                    cancel_limit_order: {}\n                                })\n                                remountMyLimitOrders()\n                            } catch (e) {\n                                alert(\"error on widthdraw: \" + e)\n                            }\n                        }}>\n                            Widthdraw <br/>\n                            {activelimitOrderData && orderBookTokensData && displayBalance(0, activelimitOrderData) + \"  and  \" + displayBalance(1, activelimitOrderData)}\n                        </Button>}</td>}\n                    </tr>\n                }\n                </tbody>\n            </Table>\n        </div>\n        \n    )\n}\n\ntype MyLimitOrdersProps = {\n    ORDERS_FACTORY_ADDRESS: string,\n    remountMyLimitOrders: any,\n    client: any,\n    tokensData: any,\n    viewKey: string | null,\n    pair: any\n}\n","import React, {useState,useEffect} from 'react';\nimport {Card, Button, Spinner, Modal, DropdownButton, Dropdown, Table} from 'react-bootstrap'\n\nconst PAGINATION_LIMIT = 10;\nconst PAGINATION_OFFSET = 0;\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default ({\n    ORDERS_FACTORY_ADDRESS,\n    remountMyLimitOrders,\n    tokensData,\n    client,\n    viewKey,\n    pair\n}: MyLimitOrdersProps) => {\n    const [historyLimitOrdersData, setHistoryLimitOrdersData] = useState<any>(null)\n    const [orderBookTokensData, setOrderBookTokensData] = useState<any>(null)\n    const [ammPriceData, setAmmPriceData] = useState<any>(null)\n\n    useEffect(() => {\n        async function init() {\n            const limitOrderPromise = client.execute.queryContractSmart(pair.contract_addr, { \n                get_history_limit_orders: {\n                    user_address: client.accountData.address,\n                    user_viewkey: viewKey,\n                    page_size: PAGINATION_LIMIT,\n                    page: PAGINATION_OFFSET\n                }\n              })\n\n            const orderBookTokenDataPromise = client.execute.queryContractSmart(pair.contract_addr, { \n                order_book_pair_info: {}\n              })\n\n            const [limitOrder, orderBookTokenData] = await Promise.all([limitOrderPromise, orderBookTokenDataPromise]);\n\n            setHistoryLimitOrdersData(limitOrder.history_limit_orders.history_limit_orders)\n            setOrderBookTokensData(orderBookTokenData.order_book_pair)\n            setAmmPriceData(await getAmmPrice(orderBookTokenData.order_book_pair))\n\n            setInterval(async () => {\n                const limitOrder = await client.execute.queryContractSmart(pair.contract_addr, { \n                    get_history_limit_orders: {\n                        user_address: client.accountData.address,\n                        user_viewkey: viewKey,\n                        page_size: PAGINATION_LIMIT,\n                        page: PAGINATION_OFFSET\n                    }\n                  })\n                setHistoryLimitOrdersData(limitOrder.history_limit_orders.history_limit_orders);\n                setAmmPriceData(await getAmmPrice(orderBookTokenData.order_book_pair))\n            },12000)\n          }\n        init()\n    }, [])\n\n    const getAmmPrice = async (orderBookTokenData: any) => {\n        return client.execute.queryContractSmart(orderBookTokenData.amm_pair_address, { \n            simulation: {\n                offer_asset: {\n                    info: {\n                        token: {\n                            ...orderBookTokenData.assets_info[0].token,\n                            viewing_key: \"\"\n                        }\n                    },\n                    amount: \"\" + Math.pow(10, tokensData.find((data: any) => data.dst_address === orderBookTokenData.assets_info[0].token.contract_addr).decimals)\n                }\n            }\n          })\n    }\n\n    const displayBalance = (index: number, limitOrderData:any, is_withdrew: boolean | null = null) => {\n        const tokenData = tokensData.find((data: any) => data.dst_address === orderBookTokensData.assets_info[index].token.contract_addr);\n        if (!is_withdrew) {\n            return Math.round(limitOrderData.balances[index]/Math.pow(10,orderBookTokensData.assets_info[index].decimal_places) * 100000) / 100000 + \" \" + tokenData.display_props.symbol\n        } else {\n            return Math.round(limitOrderData.withdrew_balance[index]/Math.pow(10,orderBookTokensData.assets_info[index].decimal_places) * 100000) / 100000 + \" \" + tokenData.display_props.symbol\n        }\n    }\n\n    const displayPrice = (type: string, limitOrderData: any) => {\n        const token1Data = tokensData.find((data: any) => data.dst_address === orderBookTokensData.assets_info[0].token.contract_addr);\n        const token2Data = tokensData.find((data: any) => data.dst_address === orderBookTokensData.assets_info[1].token.contract_addr);\n        if (type === \"order\") {\n            return Math.round(limitOrderData.price/Math.pow(10,orderBookTokensData.assets_info[1].decimal_places) * 100000) / 100000 + \" \" + token2Data.display_props.symbol + \" per \" + token1Data.display_props.symbol \n        } else if (type === \"amm\") {\n            return Math.round(ammPriceData.return_amount/Math.pow(10,orderBookTokensData.assets_info[1].decimal_places) * 100000) / 100000 + \" \" + token2Data.display_props.symbol + \" per \" + token1Data.display_props.symbol \n        } else if (type === \"triggered\") {\n            if (limitOrderData.withdrew_balance) {\n                if (limitOrderData.is_bid) {\n                    return (Math.round(limitOrderData.deposit_amount/Math.pow(10,orderBookTokensData.assets_info[1].decimal_places) * 100000) / 100000) / (Math.round(limitOrderData.withdrew_balance[0]/Math.pow(10,orderBookTokensData.assets_info[0].decimal_places) * 100000) / 100000) + \" \" +  token2Data.display_props.symbol + \" per \" + token1Data.display_props.symbol\n                } else {\n                    return (Math.round(limitOrderData.withdrew_balance[1]/Math.pow(10,orderBookTokensData.assets_info[1].decimal_places) * 100000) / 100000) / (Math.round(limitOrderData.deposit_amount/Math.pow(10,orderBookTokensData.assets_info[0].decimal_places) * 100000) / 100000) + \" \" +  token2Data.display_props.symbol + \" per \" + token1Data.display_props.symbol\n                }\n            } else {\n                return \"-\"\n            }\n        }\n    }\n\n    const pairDisplay = () => {\n        const token1Data = tokensData.find((data: any) => data.dst_address === orderBookTokensData.assets_info[0].token.contract_addr);\n        const token2Data = tokensData.find((data: any) => data.dst_address === orderBookTokensData.assets_info[1].token.contract_addr);\n\n        return token1Data.display_props.symbol + \" / \" + token2Data.display_props.symbol \n    }\n\n    const findTokenData = (index: number) => \n        tokensData.find((data: any) => data.dst_address === orderBookTokensData.assets_info[index].token.contract_addr);\n\n    const getDepositedAmount = (limitOrderData: any) => {\n        const index = limitOrderData.is_bid ? 1 : 0;\n        const amount = Math.round(limitOrderData.deposit_amount/Math.pow(10,orderBookTokensData.assets_info[index].decimal_places) * 100000) / 100000;\n\n        return \"Deposited: \" + amount + \" \" + findTokenData(index).display_props.symbol\n    }\n\n    const getExpectedAmount = (limitOrderData: any) => {\n        const index = limitOrderData.is_bid ? 0 : 1;\n        const amount = Math.round(limitOrderData.expected_amount/Math.pow(10,orderBookTokensData.assets_info[index].decimal_places) * 100000) / 100000;\n\n        return \"Expected (~): \" + amount + \" \" + findTokenData(index).display_props.symbol\n    }\n\n    return (\n        <div>\n            HISTORY ORDERS\n            <Table striped bordered hover>\n                <thead>\n                    <tr>\n                        <th>Creation Date</th>\n                        <th>Pair</th>\n                        <th>Type</th>\n                        <th>Status</th>\n                        <th>Limit Order</th>\n                        <th>Triggered Price</th>\n                        <th>Withdraw</th>\n                    </tr>\n                </thead>\n                <tbody>\n                {\n                historyLimitOrdersData && historyLimitOrdersData.length > 0 && \n                    historyLimitOrdersData.map((history_order:any) => \n                        <tr key={history_order.timestamp}>\n                            <td>{new Date(history_order.timestamp*1000).toLocaleString()}</td>\n                            {orderBookTokensData && tokensData && <td>{pairDisplay()}</td>}\n                            <td>{history_order.is_bid ? \"Buy\" : \"Sell\"}</td>\n                            <td>{history_order.status}</td>\n                            {orderBookTokensData && \n                                <div>\n                                    {displayPrice(\"order\", history_order)} <br/><br/>\n                                    {getDepositedAmount(history_order)}<br/>\n                                    {getExpectedAmount(history_order)}\n                                </div>}\n                            {<td>{\n                                <div>\n                                    {\n                                        ammPriceData && \n                                        history_order.status === \"Withdrew\" ? \n                                        displayPrice(\"triggered\", history_order)\n                                        : \" - \"}\n                                </div>\n                            }</td>}\n                            {<td>Withdrew:  {history_order.withdrew_balance && orderBookTokensData && displayBalance(0, history_order, true) + \"  and  \" + displayBalance(1, history_order, true)}</td>}\n                        </tr>\n                    )\n            }\n                </tbody>\n            </Table>\n        </div>\n        \n    )\n}\n\ntype MyLimitOrdersProps = {\n    ORDERS_FACTORY_ADDRESS: string,\n    remountMyLimitOrders: any,\n    client: any,\n    tokensData: any,\n    viewKey: string | null,\n    pair: any\n}\n","import React, { useState, useEffect } from \"react\";\nimport MyActiveLimitOrders from \"./MyActiveLimitOrders\"\nimport MyHistoryLimitOrders from \"./MyHistoryLimitOrders\"\n\nimport {\n    Card,\n    Button,\n    Spinner,\n    Modal,\n    DropdownButton,\n    Dropdown,\n    Table,\n} from \"react-bootstrap\";\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default ({\n    ORDERS_FACTORY_ADDRESS,\n    remountMyLimitOrders,\n    tokensData,\n    client,\n    viewKey,\n}: any) => {\n    const [secretOrderBooks, setSecretOrderBooks] = useState<any>(null);\n    const [selectedFactoryPairIndex, setSelectedFactoryPairIndex] = useState<any>(\n        null\n    );\n\n    useEffect(() => {\n        async function init() {\n            const response = await client.execute.queryContractSmart(\n                ORDERS_FACTORY_ADDRESS,\n                {\n                    secret_order_books: {},\n                }\n            );\n            setSecretOrderBooks(response.secret_order_books);\n        }\n        init();\n    }, []);\n\n    const displaySymbolPair = (pair: any) => {\n        const token1Address = pair.asset_infos[0].token\n            ? pair.asset_infos[0].token.contract_addr\n            : pair.asset_infos[0].native_token.denom;\n        const token1Data = tokensData.find(\n            (data: any) => data.dst_address === token1Address\n        );\n        const token2Address = pair.asset_infos[1].token\n            ? pair.asset_infos[1].token.contract_addr\n            : pair.asset_infos[1].native_token.denom;\n        const token2Data = tokensData.find(\n            (data: any) => data.dst_address === token2Address\n        );\n        return (\n            (token1Data ? token1Data.display_props.symbol : token1Address) +\n            \" / \" +\n            (token2Data ? token2Data.display_props.symbol : token2Address)\n        );\n    };\n\n    return (\n        <div>\n            <br/><br/>\n            {\n                tokensData && secretOrderBooks && (\n                    <DropdownButton\n                        id=\"dropdown-basic-button\"\n                        title={\n                            selectedFactoryPairIndex !== null\n                                ? displaySymbolPair(\n                                    secretOrderBooks.secret_order_books[selectedFactoryPairIndex]\n                                )\n                                : \"Select Pair...\"\n                        }\n                    >\n                        {secretOrderBooks!.secret_order_books.map(\n                            (pair: any, index: number) => (\n                                <Dropdown.Item\n                                    key={pair.contract_addr}\n                                    onClick={() => {\n                                        setSelectedFactoryPairIndex(index);\n                                    }}\n                                >\n                                    {displaySymbolPair(pair)}\n                                </Dropdown.Item>\n                            )\n                        )}\n                    </DropdownButton>\n                )}\n            <br/>\n            {\n                selectedFactoryPairIndex !== null && \n                    <MyActiveLimitOrders \n                        key={\"active_\" + selectedFactoryPairIndex}\n                        remountMyLimitOrders={remountMyLimitOrders}\n                        ORDERS_FACTORY_ADDRESS={ORDERS_FACTORY_ADDRESS}\n                        tokensData={tokensData}\n                        client={client}\n                        viewKey={viewKey}\n                        pair={secretOrderBooks.secret_order_books[selectedFactoryPairIndex]}\n                    />\n            }\n            <br />\n            <br />\n            <br />\n            {\n                    selectedFactoryPairIndex !== null && <MyHistoryLimitOrders \n                      key={\"history_\" + selectedFactoryPairIndex}\n                      remountMyLimitOrders={remountMyLimitOrders}\n                      ORDERS_FACTORY_ADDRESS={ORDERS_FACTORY_ADDRESS}\n                      tokensData={tokensData}\n                      client={client}\n                      viewKey={viewKey}\n                      pair={secretOrderBooks.secret_order_books[selectedFactoryPairIndex]}\n                    />\n            }\n        </div>\n    );\n};\n","import React, {useState,useEffect} from 'react';\nimport {Card, Button, Spinner, Modal, DropdownButton, Dropdown, Form, Nav} from 'react-bootstrap'\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default ({\n    AMM_FACTORY_ADDRESS,\n    ORDERS_FACTORY_ADDRESS,\n    tokensData,\n    client,\n    viewKey,\n    remountMyLimitOrders\n}: CreateNewLimitOrderProps) => {\n    const [showCreateLimitOrderModal, setShowCreateLimitOrderModal] = useState(false);\n    const [secretOrderBooks, setSecretOrderBooks] = useState<any>(null);\n    const [selectedAmmFactoryPairIndex, setSelectedAmmFactoryPairIndex] = useState<any>(null)\n\n    const [createLimitOrderLoading, setCreateLimitOrderLoading] = useState<boolean>(false);\n    const [selectedAmmPriceLoading, setSelectedAmmPairPriceLoading] = useState<boolean>(false);\n    const [selectedAmmPairPrice, setSelectedAmmPairPrice] = useState<any>(null);\n\n    const [limitOrderIsBidInput, setLimitOrderIsBidInput] = useState<boolean>(true);\n    const [limitOrderAmountInput, setLimitOrderAmountInput] = useState<any>(null);\n    const [limitOrderPriceInput, setLimitOrderPriceInput] = useState<any>(null);\n\n    useEffect(() => {\n        async function init() {\n            const response = await client.execute.queryContractSmart(ORDERS_FACTORY_ADDRESS, { \n                secret_order_books: {}\n              })\n            setSecretOrderBooks(response.secret_order_books);\n            /*setAmmFactoryPairs(await client.execute.queryContractSmart(AMM_FACTORY_ADDRESS, { \n                pairs: {}\n              }));*/\n          }\n        init()\n    }, [])\n\n    useEffect(() => {\n        async function getData() {\n            if (selectedAmmFactoryPairIndex !== null) {\n                try {\n                    const responsePromiseAMM = getAmmPrice();\n                    //const responsePromiseOrderBook = getOrderBook();\n    \n                    const [responseAMM] = await Promise.all([responsePromiseAMM]);\n    \n                    setSelectedAmmPairPrice(responseAMM)\n                    setSelectedAmmPairPriceLoading(false)\n                    /*setOrderBookPair({\n                        isInstanciated: responseOrderBook.secret_order_books.secret_order_book ? true : false,\n                        data: responseOrderBook.secret_order_books.secret_order_book\n                    })*/\n                } catch(e){alert(e)}\n            }\n        }\n        getData()\n    }, [selectedAmmFactoryPairIndex])\n\n    const getAmmPrice = async () => {\n        return client.execute.queryContractSmart(secretOrderBooks.secret_order_books[selectedAmmFactoryPairIndex].amm_pair_contract_addr, { \n            simulation: {\n                offer_asset: {\n                    info: {\n                        token: {\n                            ...secretOrderBooks.secret_order_books[selectedAmmFactoryPairIndex].asset_infos[0].token,\n                            viewing_key: \"\"\n                        }\n                    },\n                    amount: \"\" + Math.pow(10, tokensData.find((data: any) => data.dst_address === secretOrderBooks.secret_order_books[selectedAmmFactoryPairIndex].asset_infos[0].token.contract_addr).decimals)\n                }\n            }\n          })\n    }\n\n    /*const getOrderBook = async () => {\n        return client.execute.queryContractSmart(ORDERS_FACTORY_ADDRESS, { \n            secret_order_books: {\n                contract_address: secretOrderBooks.secretOrderBooks[selectedAmmFactoryPairIndex].contract_addr\n            }\n          })\n    }*/\n\n    const getTokenSymbol = (address: string) => {\n        const tokenData = tokensData.find((data: any) => data.dst_address === address);\n        return (tokenData ? tokenData.display_props.symbol : address)\n    } \n\n    const displaySymbolPair = (pair: any) => {\n        const token1Address = pair.asset_infos[0].token ? pair.asset_infos[0].token.contract_addr : pair.asset_infos[0].native_token.denom;\n        const token1Data = tokensData.find((data: any) => data.dst_address === token1Address);\n        const token2Address = pair.asset_infos[1].token ? pair.asset_infos[1].token.contract_addr : pair.asset_infos[1].native_token.denom;\n        const token2Data = tokensData.find((data: any) => data.dst_address === token2Address);\n        return (token1Data ? token1Data.display_props.symbol : token1Address) + \" / \" + (token2Data ? token2Data.display_props.symbol : token2Address) \n    }\n\n    const getCurrentPrice = () => {\n        if(selectedAmmPairPrice) {\n            const tokenData = tokensData.find((data: any) => data.dst_address === secretOrderBooks.secret_order_books[selectedAmmFactoryPairIndex].asset_infos[1].token.contract_addr)\n            const otherTokenData = tokensData.find((data: any) => data.dst_address === secretOrderBooks.secret_order_books[selectedAmmFactoryPairIndex].asset_infos[0].token.contract_addr)\n            return selectedAmmPairPrice.return_amount / Math.pow(10, tokenData.decimals) + \" \" + tokenData.display_props.symbol + \" per \" + otherTokenData.display_props.symbol\n        }\n                                    \n    }\n\n    console.log(tokensData && secretOrderBooks && secretOrderBooks.secret_order_books)\n\n    return (\n        <div>\n            <Button onClick={() => setShowCreateLimitOrderModal(true)}>Create New Limit Order</Button>\n            <Modal show={showCreateLimitOrderModal} onHide={() => {\n                setShowCreateLimitOrderModal(false)\n                setSelectedAmmFactoryPairIndex(null)\n            }}>\n                <Modal.Header closeButton>\n                <Modal.Title>Create Limit Order</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    {\n                        tokensData && secretOrderBooks && \n                            <DropdownButton id=\"dropdown-basic-button\" title={\n                                selectedAmmFactoryPairIndex !== null ? \n                                    displaySymbolPair(secretOrderBooks.secret_order_books[selectedAmmFactoryPairIndex])\n                                : \"Select Pair...\"\n                            }>\n                                {\n                                    secretOrderBooks!.secret_order_books.map((pair: any, index: number) =>\n                                        <Dropdown.Item key={pair.contract_addr} onClick={() => {\n                                            setSelectedAmmPairPriceLoading(true)\n                                            setSelectedAmmFactoryPairIndex(index)\n                                        }}>\n                                            {\n                                                displaySymbolPair(pair)\n                                            }\n                                        </Dropdown.Item>\n                                    )\n                                }   \n                            </DropdownButton>\n                    }\n                    {\n                        selectedAmmFactoryPairIndex !== null &&\n                        <div>\n                            <br/>\n                            { selectedAmmPriceLoading && <Spinner animation=\"border\"/> }\n                            { !selectedAmmPriceLoading && selectedAmmPairPrice && getCurrentPrice()}\n                            <br/>\n                            <br/>\n                            <Button style={{marginRight: \"20px\"}} variant={limitOrderIsBidInput ? \"success\" : \"light\"} onClick={() => { setLimitOrderIsBidInput(true)}}> \n                                    Buy \n                            </Button>\n                            <Button variant={!limitOrderIsBidInput ? \"danger\" : \"light\"} onClick={() => { setLimitOrderIsBidInput(false)}}> \n                                    Sell \n                            </Button>\n                            <br/>\n                            <br/>\n                            <label>{`Price of Limit Order (` + getTokenSymbol(secretOrderBooks.secret_order_books[selectedAmmFactoryPairIndex].asset_infos[1].token.contract_addr) + \")\"}</label><br/>\n                            <input onChange={(e) => setLimitOrderPriceInput(e.target.value)}></input><br/>\n                            <label>{\n                                limitOrderIsBidInput ?\n                                `Deposit Amount (` + getTokenSymbol(secretOrderBooks.secret_order_books[selectedAmmFactoryPairIndex].asset_infos[1].token.contract_addr) + \")\" \n                                :\n                                `Deposit Amount (` + getTokenSymbol(secretOrderBooks.secret_order_books[selectedAmmFactoryPairIndex].asset_infos[0].token.contract_addr) + \")\"\n                            }\n                            </label><br/>\n                            <input onChange={(e) => setLimitOrderAmountInput(e.target.value)}></input><br/>\n                            <label>{\n                                limitOrderIsBidInput ?\n                                `Expected Amount (` + getTokenSymbol(secretOrderBooks.secret_order_books[selectedAmmFactoryPairIndex].asset_infos[0].token.contract_addr) + \")\" \n                                :\n                                `Expected Amount (` + getTokenSymbol(secretOrderBooks.secret_order_books[selectedAmmFactoryPairIndex].asset_infos[1].token.contract_addr) + \")\"\n                            }\n                            </label><br/>\n                            <input disabled value={\n                                limitOrderAmountInput && limitOrderPriceInput ? \n                                    (\n                                        limitOrderIsBidInput ? (\"\" + limitOrderAmountInput/limitOrderPriceInput)\n                                        : (\"\" + limitOrderAmountInput*limitOrderPriceInput)\n                                    )\n                                : \"\"\n                            }></input><br/>\n                            <br/>\n                            { \n                                <Button \n                                    style={{width: \"100%\"}}\n                                    variant={limitOrderIsBidInput ? \"success\" : \"danger\"}\n                                    onClick={async() => {\n                                        try {\n                                            if(\n                                                limitOrderAmountInput === null || limitOrderAmountInput === \"\" || limitOrderAmountInput === \"0\" ||\n                                                limitOrderPriceInput === null || limitOrderPriceInput === \"\" || limitOrderPriceInput === \"0\") {\n                                                throw Error(\"Bad Inputs\");\n                                            }   \n\n                                            const limitOrderExpectedAmount: any = \n                                                limitOrderIsBidInput ? (\"\" + limitOrderAmountInput/limitOrderPriceInput)\n                                                    : (\"\" + limitOrderAmountInput*limitOrderPriceInput)\n                                            // loading\n                                            setCreateLimitOrderLoading(true)\n                                            await client.execute.execute(\n                                                secretOrderBooks.secret_order_books[selectedAmmFactoryPairIndex].asset_infos[limitOrderIsBidInput ? 1 : 0].token.contract_addr,\n                                                { \n                                                    send: {\n                                                        recipient: secretOrderBooks.secret_order_books[selectedAmmFactoryPairIndex].contract_addr,\n                                                        amount: \"\" + Math.floor(limitOrderAmountInput*Math.pow(10, tokensData.find((data: any) => data.dst_address === secretOrderBooks.secret_order_books[selectedAmmFactoryPairIndex].asset_infos[limitOrderIsBidInput ? 1 : 0].token.contract_addr).decimals)),\n                                                        msg: btoa(JSON.stringify({\n                                                            create_limit_order: {\n                                                                is_bid: limitOrderIsBidInput,\n                                                                price: \"\" + Math.floor(limitOrderPriceInput*Math.pow(10, tokensData.find((data: any) => data.dst_address === secretOrderBooks.secret_order_books[selectedAmmFactoryPairIndex].asset_infos[1].token.contract_addr).decimals)),\n                                                                expected_amount: \"\" + Math.floor(limitOrderExpectedAmount*Math.pow(10, tokensData.find((data: any) => data.dst_address === secretOrderBooks.secret_order_books[selectedAmmFactoryPairIndex].asset_infos[limitOrderIsBidInput ? 0 : 1].token.contract_addr).decimals)),\n                                                            }\n                                                        }))\n                                                    } \n                                                }\n                                            )\n                                            setCreateLimitOrderLoading(false)\n                                            // sair deste e fazer refresh do outro\n                                            setShowCreateLimitOrderModal(false)\n                                            setSelectedAmmFactoryPairIndex(null)\n                                            remountMyLimitOrders()\n                                        } catch (e) {\n                                            alert(e)\n                                            setCreateLimitOrderLoading(false)\n                                        }\n                                    }\n                                }> \n                                    {\n                                        createLimitOrderLoading ? <Spinner animation=\"border\"/> : limitOrderIsBidInput ? \"Buy\" : \"Sell\"\n                                    }\n                                </Button>\n                            }\n                        </div>\n                    }\n                </Modal.Body>\n                <Modal.Footer>\n                <Button variant=\"secondary\" onClick={() => {\n                    setSelectedAmmFactoryPairIndex(null)\n                    setShowCreateLimitOrderModal(false)\n                }}>\n                    Close\n                </Button>\n                </Modal.Footer>\n            </Modal>\n        </div>\n        )\n}\n\ntype CreateNewLimitOrderProps = {\n    AMM_FACTORY_ADDRESS: string,\n    ORDERS_FACTORY_ADDRESS: string,\n    client: any,\n    tokensData: any,\n    viewKey: string | null,\n    remountMyLimitOrders: any\n}\n\n","import React, {useState, useEffect} from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport { SigningCosmWasmClient } from 'secretjs';\nimport ViewKeyButton from \"./Containers/ViewKeyButton\"\nimport MyOrders from \"./Containers/MyOrders\";\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport CreateNewLimitOrder from \"./Containers/CreateNewLimitOrder\";\nimport axios from 'axios';\n\nconst AMM_FACTORY_ADDRESS=\"secret1ypfxpp4ev2sd9vj9ygmsmfxul25xt9cfadrxxy\"\nconst ORDERS_FACTORY_ADDRESS=\"secret1rtarpu36gul7kn0xgedpv8kdqucjhxhgxywa6x\" \nconst SSCRT_CONTRACT_ADDRESS=\"secret1s7c6xp9wltthk5r6mmavql4xld5me3g37guhsx\"\n\nfunction App() {\n  const [client, setClient] = useState({\n    ready: false,\n    execute: null,\n    accountData: {\n      address: \"\"\n    }\n  });\n\n  const [viewKey, setViewKey] = useState({\n    ready: false,\n    value: null\n  });\n\n  const [tokensData, setTokensData] = useState<any>(null);\n  const [remountMyLimitOrdersCount, setRemountMyLimitOrdersCount] = useState<number>(0);\n\n  useEffect(() => {\n    async function init() {\n      setupKeplr(setClient);\n      try {\n        const response = await axios.get(\"https://scrt-bridge-api.azurewebsites.net/tokens/?page=0&size=1000\");\n          setTokensData([...response.data.tokens, {\n            dst_address: SSCRT_CONTRACT_ADDRESS,\n            decimals: 6,\n            display_props: {\n              symbol: \"sSCRT\"\n            }\n          },{\n            dst_address: \"secret1ha79qdkjsq7nyy8hagsggfq6zzlwshfmgfv3k0\",\n            decimals: 18,\n            display_props: {\n              symbol: \"sTST\"\n            }\n          },\n        ]);\n      } catch (e) {\n        setTokensData([{\n          dst_address: \"secret1ttg5cn3mv5n9qv8r53stt6cjx8qft8ut9d66ed\",\n          decimals: 18,\n          display_props: {\n            symbol: \"sETH\"\n          }\n        },{\n          dst_address: \"secret10zr3azpmr42vatq3pey2aaxurug0c668km6rzl\",\n          decimals: 18,\n          display_props: {\n            symbol: \"sOCEAN\"\n          }\n        },{\n          dst_address: SSCRT_CONTRACT_ADDRESS,\n          decimals: 6,\n          display_props: {\n            symbol: \"sSCRT\"\n          }\n        },{\n          dst_address: \"secret1ha79qdkjsq7nyy8hagsggfq6zzlwshfmgfv3k0\",\n          decimals: 18,\n          display_props: {\n            symbol: \"sTST\"\n          }\n        },\n      ]);\n      }\n    }\n    init();\n  }, [])\n\n  const remountMyLimitOrders = () => setRemountMyLimitOrdersCount(remountMyLimitOrdersCount+1)\n\n  if(!client.ready) {\n    return <div>Loading...</div>\n  } else {\n    return (\n      <div className=\"App\">\n          <ViewKeyButton \n            ORDERS_FACTORY_ADDRESS={ORDERS_FACTORY_ADDRESS}\n            client={client}\n            viewKey={viewKey}\n            setViewKey={setViewKey}\n          />\n          {\n            viewKey.value &&  \n              <div>\n                  <CreateNewLimitOrder \n                    ORDERS_FACTORY_ADDRESS={ORDERS_FACTORY_ADDRESS}\n                    AMM_FACTORY_ADDRESS={AMM_FACTORY_ADDRESS}\n                    tokensData={tokensData}\n                    client={client}\n                    viewKey={viewKey.value}\n                    remountMyLimitOrders={remountMyLimitOrders}\n                  /> \n                  <MyOrders \n                    key={remountMyLimitOrdersCount}\n                    ORDERS_FACTORY_ADDRESS={ORDERS_FACTORY_ADDRESS}\n                    AMM_FACTORY_ADDRESS={AMM_FACTORY_ADDRESS}\n                    tokensData={tokensData}\n                    client={client}\n                    viewKey={viewKey.value}\n                    remountMyLimitOrders={remountMyLimitOrders}\n                  />\n              </div>\n          }\n          \n          {\n            /*\n              <PairsAvailable \n                AMM_FACTORY_ADDRESS={AMM_FACTORY_ADDRESS}\n                ORDERS_FACTORY_ADDRESS={ORDERS_FACTORY_ADDRESS}\n                client={client}\n                viewKey={viewKey.value}\n              />\n            */\n          }\n          \n      </div>\n    );\n  }\n}\n\nexport default App;\n\nconst setupKeplr = async (setClient: any) => {\n  // Define sleep\n  const CHAIN_ID = \"holodeck-2\";\n  \n  const sleep = (ms: number) => new Promise((accept) => setTimeout(accept, ms));\n\n  // Wait for Keplr to be injected to the page\n  while (\n    !window.keplr &&\n    !window.getOfflineSigner &&\n    !window.getEnigmaUtils\n  ) {\n    await sleep(10);\n  }\n\n  // Use a custom chain with Keplr.\n  // On mainnet we don't need this (`experimentalSuggestChain`).\n  // This works well with `enigmampc/secret-network-sw-dev`:\n  //     - https://hub.docker.com/r/enigmampc/secret-network-sw-dev\n  //     - Run a local chain: `docker run -it --rm -p 26657:26657 -p 26656:26656 -p 1337:1337 -v $(shell pwd):/root/code --name secretdev enigmampc/secret-network-sw-dev`\n  //     - `alias secretcli='docker exec -it secretdev secretcli'`\n  //     - Store a contract: `docker exec -it secretdev secretcli tx compute store /root/code/contract.wasm.gz --from a --gas 10000000 -b block -y`\n  // On holodeck, set:\n  //     1. CHAIN_ID = \"holodeck-2\"\n  //     2. rpc = \"ttp://bootstrap.secrettestnet.io:26657\"\n  //     3. rest = \"https://bootstrap.secrettestnet.io\"\n  //     4. chainName = Whatever you like\n  // For more examples, go to: https://github.com/chainapsis/keplr-example/blob/master/src/main.js\n  await window.keplr.experimentalSuggestChain({\n    chainId: CHAIN_ID,\n    chainName: \"Local Secret Chain\",\n    rpc: \"http://bootstrap.secrettestnet.io:26657\",\n    rest: \"https://bootstrap.secrettestnet.io\",\n    bip44: {\n      coinType: 529,\n    },\n    coinType: 529,\n    stakeCurrency: {\n      coinDenom: \"SCRT\",\n      coinMinimalDenom: \"uscrt\",\n      coinDecimals: 6,\n    },\n    bech32Config: {\n      bech32PrefixAccAddr: \"secret\",\n      bech32PrefixAccPub: \"secretpub\",\n      bech32PrefixValAddr: \"secretvaloper\",\n      bech32PrefixValPub: \"secretvaloperpub\",\n      bech32PrefixConsAddr: \"secretvalcons\",\n      bech32PrefixConsPub: \"secretvalconspub\",\n    },\n    currencies: [\n      {\n        coinDenom: \"SCRT\",\n        coinMinimalDenom: \"uscrt\",\n        coinDecimals: 6,\n      },\n    ],\n    feeCurrencies: [\n      {\n        coinDenom: \"SCRT\",\n        coinMinimalDenom: \"uscrt\",\n        coinDecimals: 6,\n      },\n    ],\n    gasPriceStep: {\n      low: 0.3,\n      average: 0.45,\n      high: 0.6,\n    },\n    features: [\"secretwasm\"],\n  });\n\n  // Enable Keplr.\n  // This pops-up a window for the user to allow keplr access to the webpage.\n  await window.keplr.enable(CHAIN_ID);\n\n  // Setup SecrtJS with Keplr's OfflineSigner\n  // This pops-up a window for the user to sign on each tx we sent\n  const keplrOfflineSigner = window.getOfflineSigner(CHAIN_ID);\n  const accounts = await keplrOfflineSigner.getAccounts();\n\n  const execute = await new SigningCosmWasmClient(\n    \"https://bootstrap.secrettestnet.io\", // holodeck - https://bootstrap.secrettestnet.io; mainnet - user your LCD/REST provider\n    accounts[0].address,\n    window.getOfflineSigner(CHAIN_ID),\n    window.getEnigmaUtils(CHAIN_ID),\n    {\n      // 300k - Max gas units we're willing to use for init\n      init: {\n        amount: [{ amount: \"500000\", denom: \"uscrt\" }],\n        gas: \"500000\",\n      },\n      // 300k - Max gas units we're willing to use for exec\n      exec: {\n        amount: [{ amount: \"500000\", denom: \"uscrt\" }],\n        gas: \"500000\",\n      },\n    }\n  )\n\n  const accountData = await execute.getAccount(accounts[0].address);\n  \n  setClient({\n    ready: true,\n    execute,\n    accountData\n  })\n}\n\ndeclare global {\n  interface Window { keplr: any, getOfflineSigner:any, getEnigmaUtils:any }\n}\n\n\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}